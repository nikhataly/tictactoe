<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" type="text/css" href="style.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <title>My Tic Tac Toe</title>
</head>

<body>
<h1>My Tic Tac Toe</h1>
<table>


  <tr>
    <td id="1"></td>
    <td id="2"></td>
    <td id="3"></td>
  </tr>

  <tr>
    <td id="4"></td>
    <td id="5"></td>
    <td id="6"></td>
  </tr>

  <tr>
    <td id="7"></td>
    <td id="8"></td>
    <td id="9"></td>
  </tr>

</table>
</body>



<script>


$(document).ready(function() {

function initGame() {

  var count = 0;

  $("td").off("click");
  $("td").html("");

  $("td").on("click", function() {

    console.log(count)
    if(count % 2 == 0) {
      $(this).html("X");
    } else {
      $(this).html("O");
    };
    $(this).off('click');

    checkBoard(count);
    count++;

  });

}

function gameFinished(message){
   alert(message);
   initGame();
}

function checkBoard(count) {

  var wins = [ [$("#1"), $("#2"), $("#3")], [$("#4"), $("#5"), $("#6")], [$("#7"), $("#8"), $("#9")], [$("#1"), $("#4"), $("#7")], [$("#2"), $("#5"), $("#8")], [$("#3"), $("#6"), $("#9")], [$("#1"), $("#5"), $("#9")], [$("#3"), $("#5"), $("#7")] ]

  for(var i = 0; i < wins.length; i++) {
    var w = wins[i];
    var checkX = w[0].html() == "X" && w[1].html() == "X" && w[2].html() == "X";
    var checkO = w[0].html() == "O" && w[1].html() == "O" && w[2].html() == "O";

    if (checkX){
      gameFinished("X wins!");
      return;
    } else if (checkO) {
      gameFinished("O wins!");
      return;
    }
  }

  if (count === 8){
    gameFinished("Draw!");
  }
}

initGame();

});
</script>

</html>




